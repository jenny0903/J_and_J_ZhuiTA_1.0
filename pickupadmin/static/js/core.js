var ajax_main_path = '/pickupadmin/';
var tpl = {
		loading_box: '<div class="blockUIblack textCenter blockUIloading" id="J_loading_wrap"><p class="loading_content">{loading}</p></div>',
		alert_box: '<div class="blockUIwhite textCenter" id="J_alert_wrap"><p class="alert_content">{alert}</p></div>',
		confirm_box: '<div class="blockUIwhite" id="J_confirm_wrap"><div class="confirm_inner"><p class="confirm_content">{confirm}</p><a class="btn" id="J_cancel_btn" href="javascript:;">取消</a><a class="btn" id="J_confirm_btn" href="javascript:;">确认</a></div></div>',
		message_callback: '<div class="blockUIwhite" id="J_message_wrap"><div class="message_inner"><p class="success_content">成功，共{success_num}个：<br>{success_id}</p><p class="success_content">失败，共{fail_num}个：<br>{fail_id}</p><a class="btn message_btn" id="J_message_btn" href="javascript:;">确认</a></div></div>',
		list_id_box: '<div class="blockUIwhite" id="J_list_id_wrap"><div class="message_inner"><p class="success_content">当前榜单前100的用户id：<br>{user_id}</p><a class="btn message_btn" id="J_id_close_btn" href="javascript:;">确认</a></div></div>',
		new_rank_money_user : [
			'<div class="blockUIwhite blockUIrankmoney" id="J_manual_money_user_wrap">',
				'<div class="manual_money_user_box">',
					'<h1>送用户上榜</h1>',
					'<ul>',
						'<li>',
							'<label for="manual_money_uid">uid</label>',
							'<input type="text" value="" id="manual_money_uid" name="manual_money_uid" />',
						'</li>',
						'<li>',
							'<label for="manual_money_score">积分</label>',
							'<input type="text" value="" id="manual_money_score" name="manual_money_score" />',
						'</li>',
					'</ul>',
					'<div class="btn_box">',
						'<a class="btn btn_disable" href="javascript:;" id="J_manual_money_user">确定</a>',
						'<a class="btn" href="javascript:;" id="J_manual_money_user_cancel">取消</a>',
					'</div>',
				'</div>',
			'</div>'
		].join(''),
	page_li : '<a href="javascript:;" data={page_num1}>{page_num2}</a>',
	version_li : [
		'<li class="content" data="{version_id}">',
			'<span class="seq_num">{seq_num}</span>',
			'<span class="version_num">{version_name}</span>',
			'<span class="type" data="{type_code}">{type}</span>',
			'<span class="status" data="{status_code}">{status}</span>',
			'<span class="operation">',
				'<a class="change" href="javascript:;">{change}</a>',
				'<a class="delete" href="javascript:;">删除</a>',
			'</span>',
		'</li>'
	].join(''),
	new_version_wrap : [
		'<div class="blockUIblack" id="J_new_version_wrap">',
			'<div class="new_version_wrap">',
				'<div class="blockui_header">',
					'<h1>新增</h1>',
					'<a class="blockui_close" href="javascript:;"></a>',
				'</div>',
				'<ul class="blockui_content">',
					'<li>',
						'<label for="new_v_name">版本号：</label>',
						'<input id="new_v_name" value="" type="text"  autocomplete="off" />',
					'</li>',
					'<li>',
						'<span>类型：</span>',
						'<div class="new_radio_wrap" id="J_new_version_type">',
							'<span class="radio_box">',
								'<input type="radio" name="type" id="J_type_android" value="1" checked="checked" />',
								'<label for="J_type_android">Android</label>',
							'</span>',
							'<span class="radio_box">',
								'<input type="radio" name="type" id="J_type_ios" value="2" /> ',
								'<label for="J_type_ios">iOS</label>',
							'</span>',
						'</div>',
					'</li>',
					'<li>',
						'<span>状态：</span>',
						'<div class="new_radio_wrap" id="J_new_version_status">',
							'<span class="radio_box">',
								'<input type="radio" name="status" id="J_status_1" value="1" checked="checked" />',
								'<label for="J_status_1">开启</label>',
							'</span>',
							'<span class="radio_box">',
								'<input type="radio" name="status" id="J_status_0" value="0" /> ',
								'<label for="J_status_0">关闭</label>',
							'</span>',
						'</div>',
					'</li>',
				'</ul>',
				'<div class="blockui_btn_box">',
					'<a class="btn btn_white" id="J_cancel_add_version" href="javascript:;">取消</a>',
					'<a class="btn btn_blue btn_blue_disabled" href="javascript:;" id="J_save_version">保存</a>',
				'</div>',
			'</div>',
		'</div>'
	].join(''),
	new_app_wrap : [
		'<div class="blockUIblack" id="J_new_app_wrap">',
			'<div class="new_app_wrap">',
				'<div class="blockui_header">',
					'<h1>新增</h1>',
					'<a class="blockui_close" href="javascript:;"></a>',
				'</div>',
				'<ul class="blockui_content">',
					'<li>',
						'<label for="new_app_name">应用名称：</label>',
						'<input id="new_app_name" value="" type="text"  autocomplete="off" />',
					'</li>',
					'<li>',
						'<label>Logo:</label>',
						'<div class="select_pic_wrap">',
							'<a class="btn btn_white btn_add_pic" id="J_add_logo" href="javascript:;">选择图片</a>',
							'<div class="file_input_wrap">',
								'<input type="file" id="J_real_file" name="J_real_file" accept="image/*" onChange="fileInfo(this)" />',
								//'<input type="file" id="J_real_file" name="J_real_file" accept="image/*" />',
								'<label id="J_add_area"></label>',
							'</div>',
						'</div>',
						'<div class="file_name" id="J_file_name">',
						'</div>',
					'</li>',
					'<li>',
						'<p>简介：</p>',
						'<textarea class="new_app_text" id="J_new_app_intro"></textarea>',
						'<div class="new_app_num_box">',
							'<em id="J_new_app_intro_num">0</em>/<em>29</em>',
						'</div>',
					'</li>',
					'<li>',
						'<label for="new_app_link">下载链接：</label>',
						'<input id="new_app_link" value="" type="text"  autocomplete="off" />',
					'</li>',
				'</ul>',
				'<div class="blockui_btn_box">',
					'<a class="btn btn_white" id="J_cancel_add_app" href="javascript:;">取消</a>',
					'<a class="btn btn_blue btn_blue_disabled" href="javascript:;" id="J_save_app">保存</a>',
				'</div>',
			'</div>',
		'</div>'
	].join(''),
	edit_app_wrap : [
		'<div class="blockUIblack" id="J_edit_app_wrap" data-id="">',
			'<div class="edit_app_wrap">',
				'<div class="blockui_header">',
					'<h1>编辑</h1>',
					'<a class="blockui_close" href="javascript:;"></a>',
				'</div>',
				'<ul class="blockui_content">',
					'<li>',
						'<label for="edit_app_name">应用名称：</label>',
						'<input id="edit_app_name" value="" type="text"  autocomplete="off" />',
					'</li>',
					'<li>',
						'<label>Logo:</label>',
						'<img class="logo_thumb" id="edit_app_img" src="{img_src}" />',
						'<div class="select_pic_wrap">',
							'<a class="btn btn_white btn_add_pic" id="J_edit_logo" href="javascript:;">选择图片</a>',
							'<div class="file_input_wrap">',
								'<input type="file" id="J_real_file2" name="J_real_file2" accept="image/*" onChange="fileInfo2(this)" />',
								//'<input type="file" id="J_real_file2" name="J_real_file2" accept="image/*" />',
								'<label id="J_add_area2"></label>',
							'</div>',
						'</div>',
						'<div class="file_name" id="J_file_name2">',
						'</div>',
					'</li>',
					'<li>',
						'<p>简介：</p>',
						'<textarea class="edit_app_text" id="J_edit_app_intro"></textarea>',
						'<div class="edit_app_num_box">',
							'<em id="J_edit_app_intro_num">0</em>/<em>29</em>',
						'</div>',
					'</li>',
					'<li>',
						'<label for="edit_app_link">下载链接：</label>',
						'<input id="edit_app_link" value="" type="text"  autocomplete="off" />',
					'</li>',
				'</ul>',
				'<div class="blockui_btn_box">',
					'<a class="btn btn_white" id="J_cancel_edit_app" href="javascript:;">取消</a>',
					'<a class="btn btn_blue" href="javascript:;" id="J_save_edit_app">保存</a>',
				'</div>',
			'</div>',
		'</div>'
	].join(''),
	app_li : [
		'<li class="content" data-id="{app_id}">',
			'<span class="seq_num">{seq_num}</span>',
			'<span class="name">{app_name}</span>',
			'<span class="click_num"><a target="_blank" href="{click_link}">{click_time}</a></span>',
			'<span class="sort">',
				'{action}',
				// '<a href="javascript:;" class="pos_up">向上<i class="icon_up_down icon_up"></i></a>',
				// '<a href="javascript:;" class="pos_down">向下<i class="icon_up_down icon_down"></i></a>',
			'</span>',
			'<span class="operation">',
				'<a href="javascript:;" class="detail">编辑</a>',
				'<a href="javascript:;" class="change" data="{status}">{change}</a>',
				'<a href="javascript:;" class="delete">删除</a>',
			'</span>',
		'</li>'
	].join('')
	};
var tpl_present = [
		'<li class="content">',
			'<div class="time">{time}</div>',
			'<div class="present">{present}</div>',
			'<div class="amount">{amount}</div>',
			'<div class="sender">{sender}</div>',
			'<div class="status">{status}</div>',
		'</li>'
		].join('');
var tpl_bill = [
		'<li class="content">',
			'<div class="transaction">{code}</div>',
			'<div class="key_num">{key}</div>',
			'<div class="value">{value}</div>',
			'<div class="purchase_date">{purchase}</div>',
			'<div class="created_date">{create}</div>',
			'<div class="platform">{platform}</div>',
		'</li>'
		].join('');
var tpl_user_info = [
		'<div class="blockUIwhite blockUIuserInfo" id="J_user_info_wrap">',
			'<div class="inner_main_wrap user_info">',
				'<a href="javascript:;" class="btn btn_user_back" id="J_user_back">返回</a>',
				'<div class="photo_wrap">',
					'<div class="photo1 main_img">',
						'<img id="img1"/>',
					'</div>',
					// '<div class="photo2">',
						// '<img id="img2" src="" />',
					// '</div>',
					// '<div class="photo3">',
						// '<img id="img3" src="" />',
					// '</div>',
					// '<div class="photo4">',
						// '<img id="img4" src="" />',
					// '</div>',
					// '<div class="photo5">',
						// '<img id="img5"src="" />',
					// '</div>',
				'</div>',
				'<div class="user_info_box user_info1">',
					'<ul>',
						'<li>',
							'<span class="title">UID：</span>',
							'<span id="user_info_uid"></span>',
							'<a id="J_new_recommend" class="btn new_recommend_btn" href="javascript:;">添加为优质用户</a>',
						'</li>',
						'<li>',
							'<span class="title">ZID：</span>',
							'<span id="user_info_zid"></span>',
						'</li>',
						'<li>',
							'<span class="title">昵称：</span>',
							'<span id="user_info_name"></span>',
						'</li>',
						'<li>',
							'<span class="title">性别：</span>',
							'<span id="user_info_gender" data=""></span>',
							'<a href="javascript:;" class="btn save_sign_btn" id="J_modify_gender">修改性别</a>',
						'</li>',
						'<li>',
							'<span class="title">身高：</span>',
							'<span id="user_info_height"></span>',
						'</li>',
						'<li>',
							'<span class="title sign_title">签名：</span>',
							'<a href="javascript:;" class="btn save_sign_btn" id="J_save_sign">保存</a>',
							'<textarea cols="60" rows="3" id="user_info_sign" value="" name="user_info_sign"></textarea>',
							//'<span id="user_info_sign"></span>',
						'</li>',
						'<li>',
							'<span class="title">追吧状态：</span>',
							'<span id="user_info_gag"></span>',
							'<a href="javascript:;" class="btn save_sign_btn" id="J_gag">取消禁言</a>',
							'<a href="javascript:;" class="btn save_sign_btn" id="J_do_gag">禁言</a>',
						'</li>',
						'<li>',
							'<span class="title">生日：</span>',
							'<span id="user_info_birth"></span>',
						'</li>',
						'<li>',
							'<span class="title">婚恋状态：</span>',
							'<span id="user_info_marriage"></span>',
						'</li>',
						'<li>',
							'<span class="title">学校：</span>',
							'<span id="user_info_school"></span>',
						'</li>',
						'<li>',
							'<span class="title">学历：</span>',
							'<span id="user_info_degree"></span>',
						'</li>',
						'<li>',
							'<span class="title">工作：</span>',
							'<span id="user_info_job"></span>',
						'</li>',
						'<li>',
							'<span class="title">职业类型：</span>',
							'<span id="user_info_trade"></span>',
						'</li>',
						'<li>',
							'<span class="title">收入：</span>',
							'<span id="user_info_money"></span>',
						'</li>',
					'</ul>',
				'</div>',
				'<div class="user_info_box user_info2">',
					'<ul>',
						'<li>',
							'<div class="title">如果配对成功，我愿意：</div>',
							'<div class="select_wrap" id="J_match"> </div>',
						'</li>',
						'<li>',
							'<div class="title">喜爱的食物：</div>',
							'<div class="select_wrap" id="J_food"> </div>',
						'</li>',
						'<li>',
							'<div class="title">喜爱的音乐：</div>',
							'<div class="select_wrap" id="J_music"> </div>',
						'</li>',
						'<li>',
							'<div class="title">喜爱的电影：</div>',
							'<div class="select_wrap" id="J_movie"> </div>',
						'</li>',
					'</ul>',
				'</div>',
				'<div class="user_info_box user_info3">',
					'<ul>',
						'<li>',
							'<span class="title">最新位置:</span>',
							'<span id="new_postion"></span>',
						'</li>',
						'<li>',
							'<span class="title">最近登录：</span>',
							'<span id="new_time"></span>',
						'</li>',
						'<li>',
							'<span class="title">被喜欢：</span>',
							'<span id="like_num"></span>',
							'<span class="title">不喜欢：</span>',
							'<span id="dislike_num"></span>',
						'</li>',
						'<li>',
							'<label for="coupon">礼券：</label>',
							'<input type="text" value="" name="coupon" id="coupon" />',
							'<a href="javascript:;" class="btn save_coupon_btn" id="J_save_coupon">保存</a>',
						'</li>',
						// '<li>',
							// '<label for="key">钥匙：</label>',
							// '<input type="text" value="" name="key" id="key" />',
						// '</li>',
					'</ul>',
				'</div>',
				'<a href="javascript:;" class="btn mod_info_btn" id="J_blacklist">拉黑</a>',
				'<div class="user_info_box user_info3_1">',
					'<ul>',
						'<li>',
							'<label for="key1">iOS平台钥匙：</label>',
							'<input type="text" value="" name="key1" id="key1" />',
						'</li>',
						'<li>',
							'<label for="key_free1">是否免费钥匙：</label>',
							'<select name="key_free1" id="key_free1">',
								'<option value="1">免费</option>',
								'<option value="0">非免费</option>',
							'</select>',
						'</li>',
						'<li>',
							'<label for="key_kind1">钥匙来源：</label>',
							'<select name="key_kind1" id="key_kind1">',
								'<option value="0">购买</option>',
								'<option value="1">礼物花费</option>',
								'<option value="2">每日登录奖励</option>',
								'<option value="3">解锁聊天花费</option>',
							'</select>',
						'</li>',
					'</ul>',
					'<a href="javascript:;" class="btn mod_info_btn2 btn_disable" id="J_user_save1">iOS平台保存</a>',
					'<ul>',
						'<li>',
							'<label for="key2">Android平台钥匙：</label>',
							'<input type="text" value="" name="key2" id="key2" />',
						'</li>',
						'<li>',
							'<label for="key_free2">是否免费钥匙：</label>',
							'<select name="key_free2" id="key_free2">',
								'<option value="1">免费</option>',
								'<option value="0">非免费</option>',
							'</select>',
						'</li>',
						'<li>',
							'<label for="key_kind2">钥匙来源：</label>',
							'<select name="key_kind2" id="key_kind2">',
								'<option value="0">购买</option>',
								'<option value="1">礼物花费</option>',
								'<option value="2">每日登录奖励</option>',
								'<option value="3">解锁聊天花费</option>',
							'</select>',
						'</li>',
					'</ul>',
					'<a href="javascript:;" class="btn mod_info_btn2 btn_disable" id="J_user_save2">Android平台保存</a>',
				'</div>',
				'<div class="user_info_box user_info4">',
					'<h2>收到的礼物</h2>',
					'<a href="javascript:;" class="btn more_btn" id="J_more_present">更多礼物详情</a>',
					'<ul id="J_present_wrap">',
						'<li class="title">',
							'<div class="time">时间</div>',
							'<div class="present">礼物名称</div>',
							'<div class="amount">礼物数量</div>',
							'<div class="sender">送礼人</div>',
							'<div class="status">礼物状态</div>',
						'</li>',
					'</ul>',
				'</div>',
				'<div class="user_info_box user_info4">',
					'<h2>充值历史</h2>',
					'<a href="javascript:;" class="btn more_btn" id="J_more_bill">更多充值详情</a>',
					'<ul id="J_bill_wrap">',
						'<li class="title">',
							'<div class="transaction">流水号</div>',
							'<div class="key_num">钥匙数量</div>',
							'<div class="value">价格(￥)</div>',
							'<div class="purchase_date">实际支付日期</div>',
							'<div class="created_date">订单验证日期</div>',
							'<div class="platform">平台</div>',
						'</li>',
					'</ul>',
				'</div>',
				'<div class="user_info_box user_info5">',
					'<h2>授予认证</h2>',
					'<ul id="J_check_box">',
						'<li>',
							'<input id="J_check_photo" class="check_select" type="checkbox" data="1" />',
							'<label for="J_check_photo">头像认证</label>',
						'</li>',
						'<li>',
							'<input id="J_check_school" class="check_select" type="checkbox" data="2" />',
							'<label for="J_check_school">学位认证</label>',
						'</li>',
						'<li>',
							'<input id="J_check_job" class="check_select" type="checkbox" data="4" />',
							'<label for="J_check_job">职位认证</label>',
						'</li>',
						'<li>',
							'<input id="J_check_money" class="check_select" type="checkbox" data="8" />',
							'<label for="J_check_money">财富认证</label>',
						'</li>',
					'</ul>',
					'<a href="javascript:;" class="btn mod_check_btn btn_disable" id="J_save_check">保存认证</a>',
				'</div>',
			'</div>',
		'</div>'
	].join('');	
var tpl_post_info = [
		'<div class="blockUIwhite blockUIuserInfo" id="J_post_info_wrap">',
			'<div class="inner_main_wrap forum_post">',
				'<a href="javascript:;" class="btn btn_post_back" id="J_post_back">返回</a>',
				'<div class="post_info">',
					'<ul>',
						'<li>',
							'<span class="title">ID : </span>',
							'<span id="post_id"></span>',
						'</li>',
						'<li>',
							'<span class="title">发帖人 : </span>',
							'<span id="post_user"></span>',
						'</li>',
						'<li>',
							'<span class="title">标题 : </span>',
							'<span id="post_title"></span>',
						'</li>',
						'<li>',
							'<span class="title">回复次数 : </span>',
							'<span id="reply_count"></span>',
						'</li>',
						'<li>',
							'<span class="title">标记 : </span>',
							'<span id="post_flag"></span>',
						'</li>',
						'<li>',
							'<span class="title">发帖时间 : </span>',
							'<span id="created_time"></span>',
						'</li>',
						'<li>',
							'<span class="title">帖子最后更新时间 : </span>',
							'<span id="reply_last_updated"></span>',
						'</li>',
						'<li>',
							'<span class="title">帖子内容 : </span>',
							'<span id="post_content"></span>',
						'</li>',
					'</ul>',
				'</div>',
			'</div>',	
		'</div>'
	].join('');	
	var tpl_reply_info = [
		'<div class="blockUIwhite blockUIuserInfo" id="J_reply_info_wrap">',
			'<div class="inner_main_wrap forum_reply">',
				'<a href="javascript:;" class="btn btn_reply_back" id="J_reply_back">返回</a>',
				'<div class="reply_info">',
					'<ul>',
						'<li>',
							'<span class="title">ID : </span>',
							'<span id="id"></span>',
						'</li>',
						'<li>',
							'<span class="title">发表回复的用户 : </span>',
							'<span id="user_id"></span>',
						'</li>',
						'<li>',
							'<span class="title">帖子ID : </span>',
							'<span id="post_id"></span>',
						'</li>',
						'<li>',
							'<span class="title">回复对方的帖子ID : </span>',
							'<span id="reply_id"></span>',
						'</li>',
						'<li>',
							'<span class="title">回复对方的UID : </span>',
							'<span id="reply_user_id"></span>',
						'</li>',
						'<li>',
							'<span class="title">回复对方的用户名 : </span>',
							'<span id="reply_user_name"></span>',
						'</li>',
						'<li>',
							'<span class="title">回复内容 : </span>',
							'<span id="content"></span>',
						'</li>',
						'<li>',
							'<span class="title">点赞次数 : </span>',
							'<span id="rate_count"></span>',
						'</li>',
						'<li>',
							'<span class="title">回帖时间 : </span>',
							'<span id="created_date"></span>',
						'</li>',
					'</ul>',
				'</div>',
			'</div>',	
		'</div>'
	].join('');	
function hideAlert(){
	window.parent.$("#J_alert_wrap").hide();
};
$("#J_message_btn").die().live('click',function(){
	$('#J_message_wrap').remove();
});
$('#J_id_close_btn').die().live('click',function(){
	$('#J_list_id_wrap').remove();
});

$('#J_new_app_wrap .blockui_close,#J_cancel_add_app').die().live('click',function(){
	$('#J_new_app_wrap').remove();
});

$('#J_edit_app_wrap .blockui_close,#J_cancel_edit_app').die().live('click',function(){
	$('#J_edit_app_wrap').remove();
});

$('#J_new_version_wrap .blockui_close,#J_cancel_add_version').die().live('click',function(){
	$('#J_new_version_wrap').remove();
});